@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   CSS Variables - Paleta de Cores Suaves
   ========================================================================== */
:root {
  /* Fundos */
  --bg-primary: #FAFAFA;
  --bg-secondary: #F5F5F5;
  --bg-card: #FFFFFF;
  --bg-hover: #EEEEEE;

  /* Textos */
  --text-primary: #37474F;
  --text-secondary: #757575;
  --text-muted: #9E9E9E;

  /* Bordas */
  --border-light: #EEEEEE;
  --border: #E0E0E0;

  /* Transições */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
}

/* Dark Mode Variables */
.dark {
  /* Fundos - Tons escuros suaves */
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --bg-card: #1e293b;
  --bg-hover: #334155;

  /* Textos - Tons claros */
  --text-primary: #f1f5f9;
  --text-secondary: #94a3b8;
  --text-muted: #64748b;

  /* Bordas */
  --border-light: #334155;
  --border: #475569;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  /* Fonte Inter (mais legível e moderna) */
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',
    'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Cor de texto suave - cinza azulado escuro */
  color: var(--text-primary);

  /* Fundo cremoso suave */
  background-color: var(--bg-primary);

  /* Transição suave para mudança de tema */
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Dark mode body */
.dark body,
body.dark {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

/* Melhorias de responsividade para mobile */
@layer components {
  /* Inputs e selects maiores em mobile */
  input, select, textarea {
    @apply min-h-[44px] text-base;
  }

  /* Botões maiores em mobile */
  button {
    @apply min-h-[44px] touch-manipulation;
  }

  /* Tabelas responsivas com scroll horizontal */
  .responsive-table {
    @apply w-full overflow-x-auto -mx-3 sm:mx-0;
  }

  .responsive-table table {
    @apply min-w-full;
  }

  /* Modais responsivos */
  .modal-content {
    @apply w-full max-h-[90vh] overflow-y-auto;
  }

  /* Mobile Card View - esconde tabela em mobile */
  .mobile-card-view {
    @apply block md:hidden;
  }

  .desktop-table-view {
    @apply hidden md:block;
  }

  /* Mobile Cards */
  .mobile-card {
    @apply bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-neutral-200 dark:border-slate-700 p-4 mb-3;
  }

  .mobile-card-header {
    @apply flex justify-between items-start mb-3;
  }

  .mobile-card-title {
    @apply font-semibold text-neutral-900 dark:text-slate-100 text-base;
  }

  .mobile-card-subtitle {
    @apply text-sm text-neutral-500 dark:text-slate-400 mt-1;
  }

  .mobile-card-row {
    @apply flex justify-between items-center py-2 border-b border-neutral-100 dark:border-slate-700 last:border-0;
  }

  .mobile-card-label {
    @apply text-sm font-semibold text-neutral-900 dark:text-slate-100 uppercase;
  }

  .mobile-card-value {
    @apply text-sm text-neutral-900 dark:text-slate-200 text-right;
  }

  .mobile-card-actions {
    @apply flex gap-2 mt-3 pt-3 border-t border-neutral-100 dark:border-slate-700;
  }

  /* Page Header Mobile */
  .page-header {
    @apply flex flex-col gap-4 mb-4 sm:mb-6;
  }

  .page-title {
    @apply text-xl sm:text-2xl font-bold text-neutral-900 dark:text-slate-100;
  }

  .page-actions {
    @apply flex flex-wrap gap-2;
  }

  /* Filter Section Mobile */
  .filter-section {
    @apply flex flex-col sm:flex-row gap-3 mb-4;
  }

  .filter-input {
    @apply flex-1 min-w-0;
  }

  /* Stats Cards Mobile */
  .stats-grid {
    @apply grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4;
  }

  .stat-card {
    @apply rounded-lg shadow-lg p-4 sm:p-6 text-white;
  }

  .stat-card-value {
    @apply text-2xl sm:text-3xl font-bold mt-2;
  }

  .stat-card-label {
    @apply text-sm font-medium opacity-90;
  }

  /* Charts Mobile */
  .chart-container {
    @apply bg-white dark:bg-slate-800 rounded-lg shadow-md p-4 sm:p-6;
  }

  .chart-title {
    @apply text-base sm:text-lg font-semibold text-neutral-800 dark:text-slate-100 mb-2 sm:mb-4 flex items-center gap-2;
  }

  /* Modal Mobile */
  .modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-end sm:items-center justify-center p-0 sm:p-4 z-50;
  }

  .modal-container {
    @apply bg-white dark:bg-slate-800 w-full sm:rounded-lg sm:max-w-4xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto rounded-t-2xl sm:rounded-lg;
  }

  .modal-header {
    @apply sticky top-0 bg-white dark:bg-slate-800 border-b border-neutral-200 dark:border-slate-700 px-4 sm:px-6 py-4 flex justify-between items-center z-10;
  }

  .modal-body {
    @apply p-4 sm:p-6;
  }

  .modal-footer {
    @apply sticky bottom-0 bg-white dark:bg-slate-800 border-t border-neutral-200 dark:border-slate-700 px-4 sm:px-6 py-4 flex flex-col-reverse sm:flex-row justify-end gap-3;
  }

  /* Form Grid Mobile */
  .form-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 gap-4;
  }

  .form-grid-full {
    @apply col-span-1 sm:col-span-2;
  }

  /* Action Buttons Mobile */
  .action-btn {
    @apply inline-flex items-center justify-center p-2 min-h-[44px] min-w-[44px] rounded-md transition-all duration-200;
  }

  .action-btn-primary {
    @apply text-primary-600 hover:text-primary-700 hover:bg-primary-50;
  }

  .action-btn-danger {
    @apply text-error-600 hover:text-error-700 hover:bg-error-50;
  }

  .action-btn-info {
    @apply text-info-600 hover:text-info-700 hover:bg-info-50;
  }

  /* Bottom Sheet Style for Mobile Modals */
  @screen sm {
    .modal-overlay {
      @apply items-center p-4;
    }
  }
}

/* Prevenir zoom em inputs no iOS */
@supports (-webkit-touch-callout: none) {
  input, select, textarea {
    font-size: 16px !important;
  }
}

/* Safe area insets for iPhone notch */
@supports (padding-top: env(safe-area-inset-top)) {
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Smooth scrolling on mobile */
html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Hide scrollbar on mobile but allow scrolling */
@media (max-width: 640px) {
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
}

/* ==========================================================================
   React DatePicker - Dark Mode Styles
   ========================================================================== */

/* Input field dark mode */
.dark .react-datepicker-wrapper,
.dark .react-datepicker__input-container {
  display: block;
  width: 100%;
}

.dark .react-datepicker__input-container input {
  background-color: #334155 !important;
  border-color: #475569 !important;
  color: #f1f5f9 !important;
}

.dark .react-datepicker__input-container input::placeholder {
  color: #64748b !important;
}

.dark .react-datepicker {
  background-color: #1e293b;
  border-color: #475569;
  color: #f1f5f9;
}

.dark .react-datepicker__header {
  background-color: #334155;
  border-bottom-color: #475569;
}

.dark .react-datepicker__current-month,
.dark .react-datepicker__day-name,
.dark .react-datepicker-time__header {
  color: #f1f5f9;
}

.dark .react-datepicker__day {
  color: #f1f5f9;
}

.dark .react-datepicker__day:hover {
  background-color: #475569;
}

.dark .react-datepicker__day--selected,
.dark .react-datepicker__day--keyboard-selected {
  background-color: #3b82f6;
  color: #ffffff;
}

.dark .react-datepicker__day--selected:hover {
  background-color: #2563eb;
}

.dark .react-datepicker__day--outside-month {
  color: #64748b;
}

.dark .react-datepicker__time-container {
  border-left-color: #475569;
}

.dark .react-datepicker__time {
  background-color: #1e293b;
}

.dark .react-datepicker__time-box {
  background-color: #1e293b;
}

.dark .react-datepicker__time-list-item {
  color: #f1f5f9;
}

.dark .react-datepicker__time-list-item:hover {
  background-color: #475569 !important;
}

.dark .react-datepicker__time-list-item--selected {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
}

.dark .react-datepicker__navigation-icon::before {
  border-color: #94a3b8;
}

.dark .react-datepicker__navigation:hover *::before {
  border-color: #f1f5f9;
}

.dark .react-datepicker__triangle {
  display: none;
}

.dark .react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle::before,
.dark .react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle::after {
  border-bottom-color: #334155;
}

.dark .react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle::before,
.dark .react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle::after {
  border-top-color: #1e293b;
}
